define("toc-view",["jquery","underscore","backbone","regs-dispatch","regs-helpers"],function(e,t,n,r,i){var s=n.View.extend({el:"#menu",events:{"click .regulation-nav a":"sendClickEvent"},initialize:function(){r.on("activeSection:change",this.setActive,this),r.on("openSection:set",this.setActive,this),r.on("toc:stateChange",this.changeContents,this),this.$label=e(".toc-type"),this.$children=e(".toc-container"),this.childViews={"#table-of-contents":{selector:e("#table-of-contents"),title:"Table of contents for"},"#history":{selector:e("#history"),title:"Switch between versions of"},"#search":{selector:e("#search"),title:"Search"}}},setActive:function(e){return this.$el.find(".current").removeClass("current"),this.$el.find("a[data-section-id="+i.findBaseSection(e)+"]").addClass("current"),this},sendClickEvent:function(t){t.preventDefault(),r.trigger("toc:click",e(t.currentTarget).data("section-id"))},changeContents:function(e){this.$children.addClass("hidden"),this.childViews[e].selector.removeClass("hidden"),this.$label.html(this.childViews[e].title)},scrollToActive:function(){var e=document.querySelectorAll("#table-of-contents .current");e[0]&&e[0].scrollIntoView()}});return s});